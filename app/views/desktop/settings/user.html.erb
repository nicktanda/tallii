<div class="space-y-12 h-[85vh] overflow-y-scroll p-4">
  <div class="flex space-x-4 items-center">
    <div class="font-bold text-2xl">Administration</div>
    <%= link_to desktop_organisation_settings_path do %>
      <div class="p-2 rounded-lg">Company Profile</div>
    <% end %>
    <%= link_to desktop_staff_settings_path do %>
      <div class="p-2 rounded-lg">Staff Management</div>
    <% end %>
    <%= link_to desktop_user_settings_path do %>
      <div class="bg-white p-2 rounded-lg">User Profile</div>
    <% end %>
  </div>
  <div class="space-y-4">
    <%= form_for current_user, url: update_desktop_user_settings_path, method: :patch do |f| %>
      <div class="space-y-8 w-full rounded-lg">
        <div class="space-y-4 w-full bg-white p-4">
          <div class="flex space-x-4 items-end">
            <div class="flex">
              <% if current_user.images.any? %>
                <img src="<%= url_for(current_user.images.last.image) %>" alt="<%= current_user.first_name %>" class="rounded-full max-h-24 max-w-24 w-24 h-24">
              <% end %>
              <div class="flex flex-col items-center">
                <div class="rounded-full w-6 h-6 p-4 bg-gray-100 flex items-center justify-center text-lg font-bold text-gray-800">
                  <%= current_user.first_name.first %>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-2" onclick='document.getElementById("editPictureDialog").showModal();'>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
              </svg>
              <div class="text-sm">Edit Picture</div>
            </div>
          </div>
          <div>
            <div class="flex">
              <%= f.label :first_name %>
              <div class="text-red-500">*</div>
            </div>
            <%= f.text_field :first_name, required: true, class: "border w-full rounded-lg p-2" %>
          </div>
          <div>
            <div class="flex">
              <%= f.label :last_name %>
              <div class="text-red-500">*</div>
            </div>
            <%= f.text_field :last_name, required: true, class: "border w-full rounded-lg p-2" %>
          </div>
          <div>
            <div class="flex">
              <%= f.label :email %>
              <div class="text-red-500">*</div>
            </div>
            <%= f.email_field :email, required: true, class: "border w-full rounded-lg p-2" %>
          </div>
          <div>
            <div class="flex">
              <%= f.label :phone %>
              <div class="text-red-500">*</div>
            </div>
            <%= f.phone_field :phone, required: true, class: "border w-full rounded-lg p-2" %>
          </div>
          <div class="flex justify-end">
            <div class="flex space-x-2 text-blue-700 border-blue-500 border-2 rounded-lg p-2" onclick='document.getElementById("editPasswordDialog").showModal();'>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
              </svg>
              <div>Change Password</div>
            </div>
          </div>
        </div>
        <div class="font-thin px-8">+ Last Save: <%= current_organisation.updated_at.strftime('%d %b %Y') %></div>
        <div class="flex justify-center">
          <button type="submit" class="bg-blue-500 text-white font-bold p-2 px-8 rounded-lg flex items-center justify-center">
            Update Details
          </button>
        </div>
      </div>
    <% end %>
    <dialog id="editPictureDialog">
      <div class="fixed top-0 left-0 w-screen h-screen bg-gray-200 bg-opacity-10 flex items-center justify-center" onclick='document.getElementById("editPictureDialog").close();'>
        <div class="bg-gray-200 items-center w-96 overflow-y-auto max-h-screen my-4 rounded-xl shadow-xl" onclick="event.stopPropagation();">
          <div class="flex justify-between p-4 rounded-t-xl">
            <div class="flex space-x-2 items-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-700">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
              </svg>
              <div class="font-bold text-2xl">Edit Profile Picture</div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" onclick='document.getElementById("editPictureDialog").close();'>
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
            </svg>
          </div>
          <%= form_with url: update_desktop_profile_picture_settings_path, method: :patch, html: { multipart: true } do |f| %>
            <div class="space-y-4">
              <div class="p-2 bg-white rounded-b-xl space-y-4">
                <div class="flex justify-center">
                  <% if current_user.images.any? %>
                    <img src="<%= url_for(current_user.images.last.image) %>" alt="<%= current_user.first_name %>" class="rounded-full max-h-24 max-w-24 w-24 h-24">
                  <% end %>
                </div>
                <div class="w-full mb-4">
                  <%= f.file_field :image, id: 'file-input3', accept: "image/jpeg, image/png", class: "block w-full border border-gray-300 rounded-lg cursor-pointer" %>
                </div>
              </div>
              <div class="p-2 w-full flex justify-center">
                <%= f.submit "Update Profile Picture", class: "bg-blue-400 text-white font-bold p-2 rounded-lg flex items-center justify-center" %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </dialog>
    <dialog id="editPasswordDialog">
      <div class="fixed top-0 left-0 w-screen h-screen bg-gray-200 bg-opacity-10 flex items-center justify-center" onclick='document.getElementById("editPasswordDialog").close();'>
        <div class="bg-gray-200 items-center w-96 overflow-y-auto max-h-screen my-4 rounded-xl shadow-xl" onclick="event.stopPropagation();">
          <div class="flex justify-between p-4 rounded-t-xl">
            <div class="flex space-x-2 items-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-700">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
              </svg>
              <div class="font-bold text-2xl">Edit Profile Picture</div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" onclick='document.getElementById("editPasswordDialog").close();'>
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
            </svg>
          </div>
          <%= form_with url: update_desktop_password_path, method: :patch do |f| %>
            <div class="space-y-4">
              <div class="p-2 bg-white rounded-b-xl space-y-4">
                <div>
                  <div class="flex">
                    <%= f.label :old_password %>
                    <div class="text-red-500">*</div>
                  </div>
                  <%= f.password_field :old_password, required: true, class: "border w-full rounded-lg p-2" %>
                </div>
                <div>
                  <div class="flex">
                    <%= f.label :new_password %>
                    <div class="text-red-500">*</div>
                  </div>
                  <%= f.password_field :new_password, required: true, class: "border w-full rounded-lg p-2" %>
                </div>
                <div>
                  <div class="flex">
                    <%= f.label :password_confirmation %>
                    <div class="text-red-500">*</div>
                  </div>
                  <%= f.password_field :password_confirmation, required: true, class: "border w-full rounded-lg p-2" %>
                </div>
              </div>
              <div class="p-2 w-full flex justify-center">
                <%= f.submit "Reset Password", class: "bg-blue-400 text-white font-bold p-2 rounded-lg flex items-center justify-center" %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </dialog>
  </div>
</div>