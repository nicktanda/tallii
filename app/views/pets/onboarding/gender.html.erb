<style>
  input:checked + label {
    color: #00FFFF;
    font-weight: bold;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  /* Slider Track with Text */
  .slider-container {
    position: absolute; /* Change position to absolute */
    bottom: 20px; /* Position from the bottom of the viewport */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Centering correction */
    width: 100%; /* Full width */
    max-width: 500px; /* Max width */
  }
</style>

<div class="m-2">
  <%= form_with url: update_pet_gender_onboarding_path(@pet), id: "petGenderForm" do |f| %>
    <div class="text-center mb-8">
      <div class="text-yellow-200 text-4xl mt-12">Sex</div>
      <div class="text-gray-400 text-2xl mt-4"><%= @pet.name %> is a good...</div>
    </div>
    <div class="text-white text-2xl flex space-x-2 w-full mt-24">
      <div class="w-full">
        <input class="hidden" id="gender_dog" type="radio" name="gender" value="male" <%= @pet.gender == "male" || @pet.gender.nil? ? 'checked' : '' %>>
        <label class="flex flex-col border-4 border-black cursor-pointer bg-red-400 rounded-3xl" for="gender_dog">
          <div class="flex justify-start">
            <div class="bg-black rounded-br-xl p-4 text-red-400">Boy</div>
          </div>
          <div class="flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none" stroke="currentColor" class="h-36 w-36">
              <path d="M86.3281 9.375H68.75C67.6104 9.375 66.5175 9.8277 65.7116 10.6335C64.9058 11.4393 64.4531 12.5323 64.4531 13.6719C64.4531 14.8115 64.9058 15.9044 65.7116 16.7102C66.5175 17.516 67.6104 17.9688 68.75 17.9688H75.9551L64.1601 29.7637C50.8418 19.4395 31.543 20.3887 19.3281 32.6094C6.07813 45.8613 6.07813 67.4199 19.3359 80.6641C25.714 87.023 34.353 90.5938 43.3594 90.5938C52.3658 90.5938 61.0048 87.023 67.3828 80.6641C79.6035 68.4414 80.5527 49.1504 70.2285 35.832L82.0312 24.0449V31.25C82.0312 32.3896 82.4839 33.4825 83.2898 34.2884C84.0956 35.0942 85.1885 35.5469 86.3281 35.5469C87.4677 35.5469 88.5606 35.0942 89.3665 34.2884C90.1723 33.4825 90.625 32.3896 90.625 31.25V13.6719C90.625 13.1076 90.5138 12.5489 90.2979 12.0275C90.082 11.5062 89.7655 11.0325 89.3665 10.6335C88.9675 10.2345 88.4938 9.91802 87.9725 9.70208C87.4511 9.48614 86.8924 9.375 86.3281 9.375ZM61.3125 74.5938C56.5476 79.3487 50.091 82.0192 43.3594 82.0192C36.6278 82.0192 30.1711 79.3487 25.4062 74.5938C15.5059 64.6953 15.5059 48.5859 25.4062 38.6875C35.3066 28.7891 51.4141 28.7871 61.3125 38.6875C71.2109 48.5879 71.2129 64.6953 61.3125 74.5938Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="h-16"></div>
        </label>
      </div>
      <div class="w-full">
        <input class="hidden" id="gender_cat" type="radio" name="gender" value="female" <%= @pet.gender == "female" ? 'checked' : '' %>>
        <label class="flex flex-col border-4 border-black cursor-pointer bg-purple-400 rounded-3xl" for="gender_cat">
          <div class="h-16"></div>
          <div class="flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none" stroke="currentColor" class="h-36 w-36">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M50 6.24963C43.3696 6.24963 37.0107 8.88355 32.3223 13.572C27.6339 18.2604 25 24.6192 25 31.2496C25 37.88 27.6339 44.2389 32.3223 48.9273C37.0107 53.6157 43.3696 56.2496 50 56.2496C56.6304 56.2496 62.9893 53.6157 67.6777 48.9273C72.3661 44.2389 75 37.88 75 31.2496C75 24.6192 72.3661 18.2604 67.6777 13.572C62.9893 8.88355 56.6304 6.24963 50 6.24963ZM18.75 31.2496C18.7501 25.2022 20.5048 19.2847 23.8014 14.2149C27.098 9.14497 31.7948 5.14052 37.3222 2.68716C42.8497 0.233792 48.9702 -0.56308 54.9415 0.393187C60.9128 1.34945 66.4784 4.01777 70.9633 8.07453C75.4481 12.1313 78.6596 17.4022 80.2081 23.248C81.7566 29.0938 81.5757 35.2633 79.6873 41.0083C77.7989 46.7533 74.2842 51.827 69.5693 55.614C64.8545 59.401 59.1421 61.7386 53.125 62.3434V74.9996H65.625C66.4538 74.9996 67.2487 75.3289 67.8347 75.9149C68.4208 76.501 68.75 77.2958 68.75 78.1246C68.75 78.9534 68.4208 79.7483 67.8347 80.3343C67.2487 80.9204 66.4538 81.2496 65.625 81.2496H53.125V96.8746C53.125 97.7034 52.7958 98.4983 52.2097 99.0843C51.6237 99.6704 50.8288 99.9996 50 99.9996C49.1712 99.9996 48.3763 99.6704 47.7903 99.0843C47.2042 98.4983 46.875 97.7034 46.875 96.8746V81.2496H34.375C33.5462 81.2496 32.7513 80.9204 32.1653 80.3343C31.5792 79.7483 31.25 78.9534 31.25 78.1246C31.25 77.2958 31.5792 76.501 32.1653 75.9149C32.7513 75.3289 33.5462 74.9996 34.375 74.9996H46.875V62.3434C39.1668 61.5687 32.0211 57.9584 26.8242 52.213C21.6274 46.4676 18.7499 38.9967 18.75 31.2496Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="flex justify-end">
            <div class="content-end bg-black text-purple-400 rounded-tl-xl p-4">Girl</div>
          </div>
        </label>
      </div>
    </div>
    <div class="p-8">
      <%= f.submit "Next", class: "w-full bg-blue-800 p-4 rounded-lg text-white" %>
    </div>
    <div class="slider-container mt-32 px-8">
      <div class="mt-12 flex space-x-1 mx-12">
        <div class="w-full h-1 bg-yellow-200"></div>
        <div class="w-full h-1 bg-yellow-200"></div>
        <div class="w-full h-1 bg-yellow-200"></div>
        <div class="w-full h-1 bg-gray-400"></div>
        <div class="w-full h-1 bg-gray-400"></div>
        <div class="w-full h-1 bg-gray-400"></div>
        <div class="w-full h-1 bg-gray-400"></div>
      </div>
    </div>
  <% end %>
</div>

<script>
  var slider = document.getElementById("myRange");
  var form = document.getElementById("petGenderForm");

  slider.oninput = function() {
    if (this.value == this.max) {
      // Submit the form when the slider reaches the max value
      Turbo.navigator.submitForm(document.getElementById("petGenderForm"));
    }
  }
</script>